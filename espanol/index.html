<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<title>Quiz – słownictwo hiszpańskie</title>
<style>
  body { font-family: Arial, sans-serif; background:#0f172a; margin:0; padding:20px; color:#e5e7eb; }
  .app { max-width: 800px; margin: 0 auto; background:#111827; padding:20px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,.4); border:1px solid #1f2933; }
  h1 { margin-top:0; color:#f9fafb; }
  .top { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:10px; }
  .stats { background:#0b1220; padding:8px 12px; border-radius:8px; border:1px solid #1f2937; font-size:0.9rem; }

  .filters {
    margin: 12px 0;
    padding: 10px;
    background:#0b1220;
    border:1px solid #1f2937;
    border-radius:10px;
    display:flex;
    gap:15px;
    flex-wrap:wrap;
  }
  .filter-item { display:flex; align-items:center; gap:6px; }
  .filter-item input { accent-color:#3b82f6; }

  button { padding:8px 12px; border:none; border-radius:8px; cursor:pointer; font-size:0.95rem; }
  .primary { background:#3b82f6; color:white; }
  .secondary { background:#1f2937; color:#e5e7eb; border:1px solid #374151; }
  .danger { background:#7f1d1d; color:#e5e7eb; border:1px solid #b91c1c; }

  .question { font-size:1.2rem; margin:20px 0; color:#f3f4f6; }
  .options { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
  .option { background:#111827; border:1px solid #374151; padding:12px; border-radius:10px; text-align:left; color:#e5e7eb; }
  .option:hover { background:#1f2937; }
  .correct { background:#064e3b !important; border-color:#22c55e; }
  .wrong { background:#7f1d1d !important; border-color:#ef4444; }
  .info { margin-top:15px; min-height:22px; }
  .footer { margin-top:20px; font-size:.9rem; color:#9ca3af; }
</style>
</head>
<body>
<div class="app">
  <div class="top">
    <h1>Quiz – słownictwo hiszpańskie</h1>
    <div class="stats" id="stats">Poprawne: 0 | Błędne: 0</div>
  </div>

  <!-- FILTRY (można zaznaczyć kilka lub wszystkie) -->
  <div class="filters">
    <strong>Zakres słówek:</strong>
    <label class="filter-item"><input type="checkbox" class="scope" value="ser" checked> SER</label>
    <label class="filter-item"><input type="checkbox" class="scope" value="tener" checked> TENER</label>
    <label class="filter-item"><input type="checkbox" class="scope" value="llevar" checked> LLEVAR</label>
  </div>

  <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
    <button id="toggleBtn" class="secondary">Tryb: PL → ES</button>
    <button id="nextBtn" class="primary">Następne</button>
    <button id="resetBtn" class="danger">Reset statystyk</button>
  </div>

  <div id="question" class="question"></div>
  <div id="options" class="options"></div>
  <div id="info" class="info"></div>
  <div class="footer">Kliknij odpowiedź. Zielona = poprawna.</div>
</div>

<script>
// --- SŁOWNIK (z kategoriami: ser / tener / llevar) ---
const vocab = [
  // ===== SER (wygląd + charakter) =====
  {pl: "przystojny", es: "guapo", scope: "ser"},
  {pl: "brzydki", es: "feo", scope: "ser"},
  {pl: "gruby", es: "gordo", scope: "ser"},
  {pl: "szczupły", es: "delgado", scope: "ser"},
  {pl: "blondyn", es: "rubio", scope: "ser"},
  {pl: "ciemnowłosy", es: "moreno", scope: "ser"},
  {pl: "brązowowłosy", es: "castaño", scope: "ser"},
  {pl: "siwy", es: "blanco / gris", scope: "ser"},
  {pl: "farbowany", es: "teñido", scope: "ser"},
  {pl: "wysoki", es: "alto", scope: "ser"},
  {pl: "niski", es: "bajo", scope: "ser"},
  {pl: "silny", es: "fuerte", scope: "ser"},
  {pl: "słaby", es: "débil", scope: "ser"},
  {pl: "stary", es: "viejo", scope: "ser"},
  {pl: "młody", es: "joven", scope: "ser"},
  {pl: "krótkie włosy", es: "corto", scope: "ser"},
  {pl: "długie włosy", es: "largo", scope: "ser"},
  {pl: "proste włosy", es: "liso", scope: "ser"},
  {pl: "kręcone włosy", es: "rizado", scope: "ser"},
  {pl: "falowane włosy", es: "ondulado", scope: "ser"},
  {pl: "łysy", es: "calvo", scope: "ser"},
  {pl: "rudy", es: "pelirrojo", scope: "ser"},

  // Charakter (SER)
  {pl: "dobry", es: "bueno", scope: "ser"},
  {pl: "zły", es: "malo", scope: "ser"},
  {pl: "sympatyczny", es: "simpático", scope: "ser"},
  {pl: "niesympatyczny", es: "antipático", scope: "ser"},
  {pl: "spokojny", es: "tranquilo", scope: "ser"},
  {pl: "nerwowy", es: "nervioso", scope: "ser"},
  {pl: "introwertyk", es: "introvertido", scope: "ser"},
  {pl: "ekstrawertyk", es: "extrovertido", scope: "ser"},
  {pl: "rozmowny", es: "hablador", scope: "ser"},
  {pl: "małomówny", es: "callado", scope: "ser"},
  {pl: "pracowity", es: "trabajador", scope: "ser"},
  {pl: "leniwy", es: "vago", scope: "ser"},
  {pl: "zabawny", es: "divertido", scope: "ser"},
  {pl: "nudny", es: "aburrido", scope: "ser"},
  {pl: "grzeczny", es: "educado", scope: "ser"},
  {pl: "niegrzeczny", es: "maleducado", scope: "ser"},
  {pl: "głupi", es: "tonto", scope: "ser"},
  {pl: "inteligentny", es: "inteligente", scope: "ser"},
  {pl: "szczery", es: "sincero", scope: "ser"},
  {pl: "kłamliwy", es: "mentiroso", scope: "ser"},
  {pl: "miły", es: "agradable", scope: "ser"},
  {pl: "niemiły", es: "desagradable", scope: "ser"},
  {pl: "hojny", es: "generoso", scope: "ser"},
  {pl: "skąpy", es: "tacaño", scope: "ser"},

  // ===== TENER =====
  {pl: "ładny uśmiech", es: "una sonrisa bonita", scope: "tener"},
  {pl: "jasne oczy", es: "ojos claros", scope: "tener"},
  {pl: "ciemne oczy", es: "ojos oscuros", scope: "tener"},
  {pl: "niebieskie oczy", es: "ojos azules", scope: "tener"},
  {pl: "zielone oczy", es: "ojos verdes", scope: "tener"},
  {pl: "szare oczy", es: "ojos grises", scope: "tener"},
  {pl: "brązowe oczy", es: "ojos marrones", scope: "tener"},

  // ===== LLEVAR =====
  {pl: "koszulka", es: "camiseta", scope: "llevar"},
  {pl: "sweter", es: "jersey", scope: "llevar"},
  {pl: "kucyk", es: "coleta", scope: "llevar"},
  {pl: "warkocze", es: "trenzas", scope: "llevar"},
  {pl: "naszyjnik", es: "collar", scope: "llevar"},
  {pl: "kolczyki", es: "pendientes", scope: "llevar"},
  {pl: "wąsy", es: "bigote", scope: "llevar"},
  {pl: "okulary", es: "gafas", scope: "llevar"},
  {pl: "broda", es: "barba", scope: "llevar"}
];

let mode = "pl2es";
const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const infoEl = document.getElementById("info");
const toggleBtn = document.getElementById("toggleBtn");
const nextBtn = document.getElementById("nextBtn");
const resetBtn = document.getElementById("resetBtn");
const statsEl = document.getElementById("stats");
const scopeCheckboxes = document.querySelectorAll('.scope');

// --- STATYSTYKI (localStorage) ---
const STATS_KEY = "spanishQuizStats";
function loadStats() {
  const saved = localStorage.getItem(STATS_KEY);
  if (saved) { try { return JSON.parse(saved); } catch {} }
  return { correct: 0, wrong: 0 };
}
function saveStats(stats) { localStorage.setItem(STATS_KEY, JSON.stringify(stats)); }
let stats = loadStats();
function renderStats() {
  statsEl.textContent = `Poprawne: ${stats.correct} | Błędne: ${stats.wrong}`;
}
resetBtn.onclick = () => { stats = { correct: 0, wrong: 0 }; saveStats(stats); renderStats(); };

function shuffle(arr) { return arr.sort(() => Math.random() - 0.5); }

function getActiveVocab() {
  const activeScopes = Array.from(scopeCheckboxes)
    .filter(cb => cb.checked)
    .map(cb => cb.value);
  return vocab.filter(v => activeScopes.includes(v.scope));
}

function newQuestion() {
  infoEl.textContent = "";
  optionsEl.innerHTML = "";

  const pool = getActiveVocab();
  if (pool.length < 4) {
    questionEl.textContent = "Zaznacz co najmniej 1 kategorię (SER / TENER / LLEVAR).";
    return;
  }

  const correct = pool[Math.floor(Math.random() * pool.length)];
  const others = shuffle(pool.filter(v => v !== correct)).slice(0,3);
  const answers = shuffle([correct, ...others]);

  questionEl.textContent = mode === "pl2es"
    ? `Jak po hiszpańsku: "${correct.pl}"?`
    : `Jak po polsku: "${correct.es}"?`;

  answers.forEach(v => {
    const btn = document.createElement("button");
    btn.className = "option";
    btn.textContent = mode === "pl2es" ? v.es : v.pl;
    btn.onclick = () => checkAnswer(btn, v === correct, correct);
    optionsEl.appendChild(btn);
  });
}

function checkAnswer(btn, isCorrect, correct) {
  document.querySelectorAll('.option').forEach(b => b.disabled = true);
  if (isCorrect) {
    btn.classList.add('correct');
    infoEl.textContent = "✅ Poprawnie!";
    stats.correct++;
  } else {
    btn.classList.add('wrong');
    const rightText = mode === "pl2es" ? correct.es : correct.pl;
    infoEl.textContent = `❌ Źle. Poprawna odpowiedź: ${rightText}`;
    stats.wrong++;
  }
  saveStats(stats);
  renderStats();
}

scopeCheckboxes.forEach(cb => cb.addEventListener('change', newQuestion));

toggleBtn.onclick = () => {
  mode = mode === "pl2es" ? "es2pl" : "pl2es";
  toggleBtn.textContent = mode === "pl2es" ? "Tryb: PL → ES" : "Tryb: ES → PL";
  newQuestion();
};

nextBtn.onclick = newQuestion;
renderStats();
newQuestion();
</script>
</body>
</html>

